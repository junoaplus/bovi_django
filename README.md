# BOVI - λ³΄λ“κ²μ„ μ±„ν…λ΄‡ π²

Djangoλ΅ κ°λ°λ λ³΄λ“κ²μ„ μ „μ© μ±„ν…λ΄‡ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤.

## π― μ£Όμ” κΈ°λ¥

### 1. π® κ²μ„ μ¶”μ²
- **RAG κΈ°λ° μ¶”μ²**: μ‚¬μ©μ μ”μ²­μ— λ§λ” λ§μ¶¤ν• λ³΄λ“κ²μ„ μ¶”μ²
- **νμΈνλ‹ λ¨λΈ**: μ „λ¬Έμ μΌλ΅ ν•™μµλ GPT λ¨λΈ μ‚¬μ©
- μ‹¤μ‹κ°„ μ±„ν… μΈν„°νμ΄μ¤

### 2. π¤– GPT λ£° μ„¤λ…
- **κ²μ„λ³„ QA DB**: 10μ—¬κ° μΈκΈ° λ³΄λ“κ²μ„ μ§€μ›
- **μΉκ·Όν• μ„¤λ…**: μ΄λ³΄μλ„ μ΄ν•΄ν•κΈ° μ‰¬μ΄ λ£° μ„¤λ…
- **μ‹¤μ‹κ°„ Q&A**: κ¶κΈν• λ£°μ— λ€ν• μ¦‰μ„ μ§λ¬Έλ‹µλ³€
- **QRμ½”λ“ λ¨λ°”μΌ μ§€μ›**: λΉ„λ°€ μ§λ¬Έ κ°€λ¥

### 3. β™οΈ νμΈνλ‹ λ£° μ„¤λ…
- **μ „λ¬Έ AI λ¨λΈ**: λ³΄λ“κ²μ„ μ „λ¬Έ λ°μ΄ν„°λ΅ ν•™μµλ λ¨λΈ
- **μ •ν™•ν• μ„¤λ…**: λ³µμ΅ν• κ·μΉ™κ³Ό μμ™Έ μƒν™©κΉμ§€ μƒμ„Έ μ„¤λ…
- **μ „λ¬Έκ°€ μμ¤€**: κ³µμ‹ λ£°λ¶ μμ¤€μ μ •ν™•μ„±
- **QRμ½”λ“ λ¨λ°”μΌ μ§€μ›**: λΉ„λ°€ μ§λ¬Έ κ°€λ¥

## π—„οΈ λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°

### **GPTRuleQA λ¨λΈ**
- `id`: λ²νΈ (PK, μ¤ν† μΈν¬λ¦¬λ¨ΌνΈ)
- `game_name`: κ²μ„ μ΄λ¦„ (μΈλ±μ¤)
- `question`: μ§λ¬Έ λ‚΄μ©
- `answer`: λ‹µλ³€ λ‚΄μ©
- `created_at`, `updated_at`: μƒμ„±/μμ • μ‹κ°„

### **FinetuningRuleQA λ¨λΈ**
- `id`: λ²νΈ (PK, μ¤ν† μΈν¬λ¦¬λ¨ΌνΈ)
- `game_name`: κ²μ„ μ΄λ¦„ (μΈλ±μ¤)
- `question`: μ§λ¬Έ λ‚΄μ©
- `answer`: λ‹µλ³€ λ‚΄μ©
- `created_at`, `updated_at`: μƒμ„±/μμ • μ‹κ°„

## π€ λ΅μ»¬ κ°λ° ν™κ²½ μ„¤μ •

### 1. μμ΅΄μ„± μ„¤μΉ
```bash
pip install -r requirements.txt
```

### 2. λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •
```bash
python manage.py makemigrations
python manage.py migrate
```

### 3. μƒν” QA λ°μ΄ν„° λ΅λ“
```bash
python manage.py load_qa_data
```

### 4. κ΄€λ¦¬μ κ³„μ • μƒμ„±
```bash
python manage.py createsuperuser
```

### 5. μ„λ²„ μ‹¤ν–‰
```bash
python manage.py runserver
```

μ›Ή λΈλΌμ°μ €μ—μ„ `http://127.0.0.1:8000/`μ— μ ‘μ†ν•μ—¬ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

## π EC2 λ°°ν¬

**EC2 λ°°ν¬κ°€ ν•„μ”ν•μ‹ κ°€μ”?** 
μƒμ„Έν• κ°€μ΄λ“λ” `EC2_DEPLOY_GUIDE.md` νμΌμ„ μ°Έκ³ ν•μ„Έμ”!

### μ£Όμ” λ°°ν¬ λ‹¨κ³„:
1. EC2 μΈμ¤ν„΄μ¤ μƒμ„± (Ubuntu 22.04)
2. PostgreSQL μ„¤μΉ λ° μ„¤μ •
3. ν”„λ΅μ νΈ μ—…λ΅λ“
4. ν™κ²½λ³€μ μ„¤μ • (.env)
5. Gunicorn + Nginx μ„¤μ •
6. QA λ°μ΄ν„° λ΅λ“

## π“± λ¨λ°”μΌ QR κΈ°λ¥

### GPT λ£° μ„¤λ… & νμΈνλ‹ λ£° μ„¤λ…
1. ν•΄λ‹Ή νμ΄μ§€λ΅ μ΄λ™
2. νμ΄μ§€ ν•λ‹¨μ QRμ½”λ“λ¥Ό μ¤λ§νΈν°μΌλ΅ μ¤μΊ”
3. λ¨λ°”μΌμ—μ„ κ²μ„ μ„ νƒ ν›„ λΉ„λ°€μ¤λ½κ² μ§λ¬Έ κ°€λ¥
4. **λ³΄λ“κ²μ„ μ¤‘ λ‹¤λ¥Έ ν”λ μ΄μ–΄λ“¤μ—κ² λ“¤ν‚¤μ§€ μ•κ³  λ£° ν™•μΈ!**

## π² μ§€μ› κ²μ„ λ©λ΅

ν„μ¬ λ‹¤μ κ²μ„λ“¤μ„ μ§€μ›ν•©λ‹λ‹¤:
- μΉ΄νƒ„
- μ¤ν”λ λ”  
- μ•„μ¤„
- μ™μ¤ν¬
- λ±…
- ν‚Ή μ¤λΈ λ„μΏ„
- 7 μ›λ”μ¤
- λ„λ―Έλ‹μ–Έ
- μ¤λ° μ›”λ“
- ν‹°μΌ“ ν¬ λΌμ΄λ“

## π—„οΈ QA λ°μ΄ν„° κ΄€λ¦¬

### Django κ΄€λ¦¬μ ν¨λ„
```
http://127.0.0.1:8000/admin/
```

### QA λ°μ΄ν„° μ¶”κ°€/μμ •
1. **GPT Rule QAs** β†’ GPT λ£° μ„¤λ…μ© μ§λ¬Έλ‹µλ³€
2. **Finetuning Rule QAs** β†’ νμΈνλ‹ λ£° μ„¤λ…μ© μ§λ¬Έλ‹µλ³€

### λ€λ‰ λ°μ΄ν„° κ΄€λ¦¬ (Django Shell)
```bash
python manage.py shell
```

```python
from chatbot.models import GPTRuleQA, FinetuningRuleQA

# μƒ QA μ¶”κ°€
GPTRuleQA.objects.create(
    game_name="ν…λΌν¬λ° λ§μ¤",
    question="ν…λΌν¬λ° λ§μ¤ κΈ°λ³Έ λ£°μ€?",
    answer="ν™”μ„±μ„ ν…λΌν¬λ°ν•λ” κ²μ„μ…λ‹λ‹¤..."
)

# κ²μ„λ³„ QA μ΅°ν
catan_qas = GPTRuleQA.objects.filter(game_name="μΉ΄νƒ„")
for qa in catan_qas:
    print(f"Q: {qa.question}")
    print(f"A: {qa.answer}")
```

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
boardgame_chatbot/
β”β”€β”€ boardgame_chatbot/          # ν”„λ΅μ νΈ μ„¤μ •
β”‚   β”β”€β”€ settings.py            # DB λ° ν™κ²½λ³€μ μ„¤μ •
β”‚   β””β”€β”€ urls.py               
β”β”€β”€ chatbot/                    # λ©”μΈ μ•±
β”‚   β”β”€β”€ models.py              # GPTRuleQA, FinetuningRuleQA
β”‚   β”β”€β”€ views.py               # API μ—”λ“ν¬μΈνΈ
β”‚   β”β”€β”€ urls.py                # URL λΌμ°ν…
β”‚   β”β”€β”€ admin.py               # QA κ΄€λ¦¬μ μ„¤μ •
β”‚   β””β”€β”€ management/commands/   # κ΄€λ¦¬ λ…λ Ήμ–΄
β”‚       β””β”€β”€ load_qa_data.py    # μƒν” λ°μ΄ν„° λ΅λ“
β”β”€β”€ templates/                  # HTML ν…ν”λ¦Ώ
β”β”€β”€ static/                     # μ •μ  νμΌ
β”β”€β”€ requirements.txt           # μμ΅΄μ„± λ©λ΅
β”β”€β”€ EC2_DEPLOY_GUIDE.md        # EC2 λ°°ν¬ κ°€μ΄λ“
β””β”€β”€ .env.example               # ν™κ²½λ³€μ μμ‹
```

## π API μ—”λ“ν¬μΈνΈ

- `POST /api/chat/` - μ±„ν… λ©”μ‹μ§€ μ²λ¦¬
- `POST /api/rule-summary/` - κ²μ„ λ£° μ”μ•½
- `GET /api/qr/<chat_type>/` - QRμ½”λ“ μƒμ„±
- `GET /mobile/<chat_type>/` - λ¨λ°”μΌ μ±„ν… νμ΄μ§€

## π”§ ν™κ²½λ³€μ μ„¤μ •

`.env` νμΌ μƒμ„±:
```bash
cp .env.example .env
```

```env
DEBUG=True
SECRET_KEY=your-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1
DATABASE_URL=postgres://user:password@localhost:5432/boardgame_db  # EC2μ©
OPENAI_API_KEY=your-openai-api-key-here
FINETUNING_MODEL_ID=ft:gpt-3.5-turbo-0125:tset::BX2RnWfq
```

## π¤– AI λ¨λΈ κµ¬μ΅°

### **κ²μ„ μ¶”μ²**
- **λ¨λΈ**: νμΈνλ‹λ GPT-3.5-turbo
- **λ°©μ‹**: RAG (Retrieval-Augmented Generation)
- **νΉμ§•**: μ‚¬μ©μ μ”μ²­ β†’ λ²΅ν„° κ²€μƒ‰ β†’ μ»¨ν…μ¤νΈ κΈ°λ° μ¶”μ²

### **λ£° μ„¤λ…** 
- **λ¨λΈ**: νμΈνλ‹λ GPT-3.5-turbo
- **λ°©μ‹**: QA λ°μ΄ν„°λ² μ΄μ¤ μ°μ„  κ²€μƒ‰ β†’ μ‹¤μ‹κ°„ AI μ‘λ‹µ
- **νΉμ§•**: 
  - GPT λ£° μ„¤λ…: μΉκ·Όν•κ³  μ΄ν•΄ν•κΈ° μ‰¬μ΄ μ„¤λ…
  - νμΈνλ‹ λ£° μ„¤λ…: μ „λ¬Έμ μ΄κ³  μ •ν™•ν• μ„¤λ…

## π― μ‚¬μ© ν”λ΅μ°

1. **ν™νμ΄μ§€** β†’ 3κ° κΈ°λ¥ μ„ νƒ
2. **κ²μ„ μ¶”μ²**: λ°”λ΅ μ§λ¬Έ κ°€λ¥
3. **λ£° μ„¤λ…**: κ²μ„ μ„ νƒ β†’ λ£° μ”μ•½ ν™•μΈ β†’ μ„Έλ¶€ μ§λ¬Έ
4. **λ¨λ°”μΌ**: QRμ½”λ“ β†’ κ²μ„ μ„ νƒ β†’ λΉ„λ°€ μ§λ¬Έ

## π’Ύ λ°μ΄ν„°λ² μ΄μ¤ ν™•μΈ λ°©λ²•

### 1. Django κ΄€λ¦¬μ ν¨λ„ (μ¶”μ²)
```
http://127.0.0.1:8000/admin/
```

### 2. Django Shell
```bash
python manage.py shell
```

```python
from chatbot.models import GPTRuleQA, FinetuningRuleQA

# μ „μ²΄ QA κ°μ ν™•μΈ
print(f"GPT QA: {GPTRuleQA.objects.count()}κ°")
print(f"νμΈνλ‹ QA: {FinetuningRuleQA.objects.count()}κ°")

# κ²μ„λ³„ QA ν™•μΈ
for qa in GPTRuleQA.objects.all()[:5]:
    print(f"{qa.id}: {qa.game_name} - {qa.question[:30]}...")
```

### 3. λ…λ Ήμ–΄λ΅ QA ν†µκ³„ ν™•μΈ
```bash
python manage.py load_qa_data  # κΈ°μ΅΄ λ°μ΄ν„° + ν†µκ³„ μ¶λ ¥
```

## β… κ°λ° μ™„λ£ μ²΄ν¬λ¦¬μ¤νΈ

- [x] Django ν”„λ΅μ νΈ κµ¬μ΅° μ™„μ„±
- [x] QA λ°μ΄ν„°λ² μ΄μ¤ λ¨λΈ (GPTRuleQA, FinetuningRuleQA)
- [x] νλ€μƒ‰ ν…λ§ μ›Ή μΈν„°νμ΄μ¤
- [x] 3κ° μ£Όμ” κΈ°λ¥ (κ²μ„μ¶”μ², GPTλ£°, νμΈνλ‹λ£°)
- [x] QRμ½”λ“ λ¨λ°”μΌ μ§€μ›
- [x] κ΄€λ¦¬μ ν¨λ„ QA κ΄€λ¦¬
- [x] μƒν” λ°μ΄ν„° λ΅λ“ λ…λ Ήμ–΄
- [x] EC2 λ°°ν¬ μ¤€λΉ„ (PostgreSQL, Gunicorn, Nginx)
- [x] ν™κ²½λ³€μ κΈ°λ° μ„¤μ •

## π€ λ‹¤μ λ‹¨κ³„

1. **λ΅μ»¬ ν…μ¤νΈ μ™„λ£**
2. **EC2 μΈμ¤ν„΄μ¤ μƒμ„±**
3. **μ‹¤μ  OpenAI API ν‚¤ μ—°λ™**
4. **QA λ°μ΄ν„° λ€λ‰ μ…λ ¥**
5. **λ„λ©”μΈ μ—°κ²° λ° SSL μ„¤μ •**

---

**π‰ BOVI ν”„λ΅μ νΈ μ™„μ„±!** 
EC2 λ°°ν¬κ°€ ν•„μ”ν•μ‹λ©΄ `EC2_DEPLOY_GUIDE.md`λ¥Ό μ°Έκ³ ν•μ„Έμ”! π€
# bovi_django
